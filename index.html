<!doctype html><html lang=en-us>
<head>
<title>ffplayout</title>
<link rel="shortcut icon" href=https://ffplayout.github.io/favicon.ico>
<meta charset=utf-8>
<meta name=generator content="Hugo 0.86.0">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Jonathan Baecker">
<meta name=description content="python and ffmpeg based playout">
<link rel=stylesheet href=https://ffplayout.github.io/css/main.min.983ec1ddcbea7418b8d3ad4d67a2fb68a22ee0a6d39b2b996e3dd8ee3d882072.css>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="ffplayout">
<meta name=twitter:description content="python and ffmpeg based playout">
<meta property="og:title" content="ffplayout">
<meta property="og:description" content="python and ffmpeg based playout">
<meta property="og:type" content="website">
<meta property="og:url" content="https://ffplayout.github.io/">
</head>
<body>
<header class=app-header>
<a href=https://ffplayout.github.io/><img class=app-header-avatar src=https://ffplayout.github.io/img/logo.png alt="Jonathan Baecker"></a>
<h1>ffplayout</h1>
<nav class=app-header-menu>
<a class=app-header-menu-item href=https://ffplayout.github.io/>Home</a>
<br>
<a class=app-header-menu-item href=https://ffplayout.github.io/ffplayout-engine/>Engine</a>
<br>
<a class=app-header-menu-item href=https://ffplayout.github.io/ffplayout-api/>API</a>
<br>
<a class=app-header-menu-item href=https://ffplayout.github.io/ffplayout-frontend/>Frontend</a>
<br>
<a class=app-header-menu-item href=https://ffplayout.github.io/ffplayout-installer/>Installer</a>
</nav>
<p>python and ffmpeg based playout</p>
<div class=app-header-social>
<a href=https://github.com/ffplayout target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>ffplayout</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a>
</div>
</header>
<main class=app-container>
<main aria-role=main>
<div class=homepage-content>
<p><strong>Welcome to ffplayout, the 24/7 cloud ready playout solution.</strong></p>
<p>ffplayout is made mostly for Linux, but the <a href=https://github.com/ffplayout/ffplayout-engine>engine</a> can run everywhere, where python and ffmpeg can run. But outside of Linux you have to use your one startup/daemon solution.</p>
<p>The most tested system is debian, if you have permission problems on systems with Selinux you have to get help from communities how have experience in that area.</p>
<p>ffplayout comes in three programs, which are interdependent:</p>
<ul>
<li><a href=https://github.com/ffplayout/ffplayout-engine>ffplayout-engine</a>
<ul>
<li>this program can run by it self and don&rsquo;t need the other ones</li>
<li>if you don&rsquo;t need a GUI, then you will be totally fine with it</li>
</ul>
</li>
<li><a href=https://github.com/ffplayout/ffplayout-api>ffplayout-api</a>
<ul>
<li>the API is the interface between the frontend and the engine, with that you can control the engine</li>
</ul>
</li>
<li><a href=https://github.com/ffplayout/ffplayout-frontend>ffplayout-frontend</a>
<ul>
<li>the frontend gives you a web based GUI for managing the engine and the media storage</li>
</ul>
</li>
</ul>
<h2 id=what-ffplayout-can-do>What ffplayout can do</h2>
<p>When we talk about the features, we mostly talk about what the <strong>ffplayout-engine</strong> can do. Because this is the heart of the project, and the other ones are only for controlling.</p>
<p>The main idea behind ffplayout is, that it works with playlists. Every day has its one playlist, so to have a continuous endless stream every playlist needs to be 24 hours long. When a playist is not long enough the <em>engine</em> will fill the rest with a filler clip, or with black. Is the playlist longer it will be trimmed.
The playlist will be dynamically readed, that mean that you can still edit it, while it is already playing. But you can only change or add clips on a position in the future and next but one clip. In other words: when clip 7 in playlist is currently playing, you can change and add clips after position 9.</p>
<p>A second scenario is to, that ffplayout can play clips from a given folder. The <em>engine</em> also monitor this folder for changes. If clips are added; deleted or moved, the <em>engine</em> recognize this and update its file list. the folder mode has two options: 1. it can play in sorted order, or 2. it can play in a random order.</p>
<h4 id=other-features>Other Features:</h4>
<ul>
<li>send emails with error message</li>
<li>overlay a <strong>logo</strong></li>
<li><strong>overlay text</strong>, controllable through <a href=https://github.com/ffplayout/messenger>messenger</a> or <a href=https://github.com/ffplayout/ffplayout-frontend>ffplayout-frontend</a> (needs ffmpeg with libzmq)</li>
<li><strong>EBU R128 loudness</strong> normalization (single pass) (experimental)</li>
<li>loop clip in playlist which <code>out</code> value is higher then its <code>duration</code>, see also <a href=https://github.com/ffplayout/ffplayout-engine/wiki/Loop-Clip>Loop Clip</a></li>
<li>loop playlist infinitely</li>
<li>trim and fade the last clip, to get full 24 hours</li>
<li>set custom day start, so you can have playlist for example: from 6am to 6am, instate of 0am to 12pm</li>
<li>stream to server or play on desktop</li>
<li>on posix systems ffplayout can reload config with <em>SIGHUP</em></li>
<li>logging to files, or colored output to console</li>
<li>add custom <a href=https://github.com/ffplayout/ffplayout-engine/tree/master/ffplayout/filters>filters</a></li>
<li>add custom <a href=https://github.com/ffplayout/ffplayout-engine/tree/master/ffplayout/config>arguments</a></li>
<li>different types of <a href=https://github.com/ffplayout/ffplayout-engine/wiki/Outputs>output</a>:
<ul>
<li><strong>stream</strong></li>
<li><strong>desktop</strong></li>
<li><strong>HLS</strong></li>
<li><strong>custom</strong></li>
</ul>
</li>
<li>Multi Channel</li>
</ul>
<h2 id=how-ffplayout-works>How ffplayout works</h2>
<p>The principle behind the engine is that, with the exception of HLS output mode, that it works with two ffmpeg instances.</p>
<p>The first one is for preparing the input files, to unify them in every aspect. So when it is necessary the first ffmpeg instance can deinterlace the clip, pad it with black borders on top and bottom of left and right, change the frame rate, scale the size, add silence audio to it when audio is missing, add silence to the end when audio is to short, or add black frames to the end when the video is shorter than the audio. In the <em>engine</em> this ffmpeg instance is called the <em>decoder instance</em>.</p>
<p>The second ffmpeg instance is running endless, gets fed by the first instance and compress the final output. The output can be anything what ffmpeg supports: a stream (rtmp, srt, udp, rtc, etc.), a pipe, a file or ffplay for outputting to screen. In the <em>engine</em> this ffmpeg instance is called the <em>encoder instance</em>.</p>
<p>The two instances are connected with each other through a pipe.</p>
<h2 id=what-ffplayout-cant-do>What ffplayout can&rsquo;t do</h2>
<p>It&rsquo;s always nice to praise functions, but ffplayout can not do everything. It has his limits and in general stability is more important then features.</p>
<p>There is a frontend for ffplayout, but the frontend is not a full fledged program scheduling solution. The frontend is more made for simple controlling the engine and media storage, for sending text messages and explore the log files. There is a playlist creator, with some basic functions but it is not a professional scheduling program. The needs from users are to different to catch all of them, so it is up to you, to create your one scheduling solution. Anyway there is also a simple <a href=https://github.com/ffplayout/playlist-generator>playlist generator</a>, so maybe that is a good starting point for you.</p>
<p>ffplayout can not work with a ingest stream. When you work with <a href=https://github.com/ossrs/srs>SRS</a> and you produce a HLS stream with it, there is a workaround for it, but it is not widely tested and at the moment undocumented, see <a href=https://github.com/ffplayout/ffplayout-engine/issues/96>#96</a>.</p>
<p>ffplayout can not cross fade clips.</p>
<p>ffplayout can&rsquo;t schedule time sequences. The application is made for 24/7 streaming, and not only for a specific time range. When you only want to stream for some hours over a day, you need to run the engine manually or with a cronjob. The frontend could also not control the <em>engine</em> properly.</p>
<h2 id=the-playlist>The Playlist</h2>
<p>The playlist format is JSON conform, so it is easy to read and modify. Here a basic example:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JSON data-lang=JSON>{
    <span style=color:#f92672>&#34;channel&#34;</span>: <span style=color:#e6db74>&#34;Channel 1&#34;</span>,
    <span style=color:#f92672>&#34;date&#34;</span>: <span style=color:#e6db74>&#34;2021-04-28&#34;</span>,
    <span style=color:#f92672>&#34;program&#34;</span>: [{
            <span style=color:#f92672>&#34;in&#34;</span>: <span style=color:#ae81ff>0</span>,
            <span style=color:#f92672>&#34;out&#34;</span>: <span style=color:#ae81ff>647.68</span>,
            <span style=color:#f92672>&#34;duration&#34;</span>: <span style=color:#ae81ff>647.68</span>,
            <span style=color:#f92672>&#34;source&#34;</span>: <span style=color:#e6db74>&#34;/Media/clip1.mp4&#34;</span>
        }, {
            <span style=color:#f92672>&#34;in&#34;</span>: <span style=color:#ae81ff>0</span>,
            <span style=color:#f92672>&#34;out&#34;</span>: <span style=color:#ae81ff>149</span>,
            <span style=color:#f92672>&#34;duration&#34;</span>: <span style=color:#ae81ff>149</span>,
            <span style=color:#f92672>&#34;source&#34;</span>: <span style=color:#e6db74>&#34;/Media/clip2.mp4&#34;</span>
        }, {
            <span style=color:#f92672>&#34;in&#34;</span>: <span style=color:#ae81ff>0</span>,
            <span style=color:#f92672>&#34;out&#34;</span>: <span style=color:#ae81ff>114.72</span>,
            <span style=color:#f92672>&#34;duration&#34;</span>: <span style=color:#ae81ff>114.72</span>,
            <span style=color:#f92672>&#34;source&#34;</span>: <span style=color:#e6db74>&#34;/Media/clip3.mp4&#34;</span>,
            <span style=color:#f92672>&#34;category&#34;</span>: <span style=color:#e6db74>&#34;advertisement&#34;</span>
        }, {
            <span style=color:#f92672>&#34;in&#34;</span>: <span style=color:#ae81ff>0</span>,
            <span style=color:#f92672>&#34;out&#34;</span>: <span style=color:#ae81ff>2531.36</span>,
            <span style=color:#f92672>&#34;duration&#34;</span>: <span style=color:#ae81ff>2531.36</span>,
            <span style=color:#f92672>&#34;source&#34;</span>: <span style=color:#e6db74>&#34;/Media/clip4.mp4&#34;</span>,
            <span style=color:#f92672>&#34;category&#34;</span>: <span style=color:#e6db74>&#34;&#34;</span>
        }
    ]
}
</code></pre></div><p>The parameters <code>in</code>, <code>out</code>, <code>duration</code> and <code>source</code> are mandatory. <code>category</code> can be set, but the <em>engine</em> will only consider the value <strong>advertisement</strong>. If a item has this advertisement category, the overlay logo will fade out before the clip starts and fade in after the clip is finish.</p>
<p>As long as you have the mandatory values in the playlist, you can extend it in any ways. For example you could give it a text key/value and read that in a custom filter, for overlaying subtitles.</p>
<h2 id=detail-description>Detail Description</h2>
<p>On the following pages you found more details from every program part and a install instruction. If you don&rsquo;t want to install it by hand, you can give the <a href=https://github.com/ffplayout/ffplayout-docker>docker version</a> a try.</p>
<ul>
<li><a href=https://ffplayout.github.io/ffplayout-engine>ffplayout-engine</a></li>
<li><a href=https://ffplayout.github.io/ffplayout-api>ffplayout-api</a></li>
<li><a href=https://ffplayout.github.io/ffplayout-frontend>ffplayout-frontend</a></li>
</ul>
</div>
</main>
</main>
</body>
</html>